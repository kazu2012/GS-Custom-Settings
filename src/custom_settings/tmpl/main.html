<div class="ko-main" data-bind="css: {manage: !mode.state(), edit: mode.state}"><div data-bind="visible: (mode.state() && data.activeItem() !== false) && data.items()[data.activeItem()]">	<div id="ko-main-toolbar" class="ko-toolbar" data-bind="visible:  mode.state() && data.activeItem() !== false && data.items().length" style="margin-top: 30px;"><!-- ko with: data.items()[data.activeItem()] && data.items()[data.activeItem()].settings -->		<button type="button" data-bind="click: toggleAll, style: { color: allAreSelected() ? '#CF3805' : ''}, disable: disable_toggle, i18n: {title: 'prop_select_all'}"><i class="fa fa-location-arrow"></i></button>		<button type="button" data-bind="click: openCloseAll, style: { color: allAreOpened() && activeItems().length  ? '#CF3805' : ''}, disable: disable_open,	i18n: { title: 'prop_hide_show_details'}"><i data-bind="attr: { 'class': 'fa fa-' + ( allAreOpened() && activeItems().length ? 'minus-square' : 'plus-square')}" class="open-setting-details"></i></button>		<button type="button" data-bind="click: insertBefore, disable: disable_add, i18n: {title: 'prop_add'}"><i class="fa fa-plus"></i></button>		<button type="button" data-bind="click: remove, disable: disable_del, i18n: {title: 'prop_del'}"><i class="fa fa-close"></i></button>		<button type="button" data-bind="click: moveUp, disable: disable_up, i18n: {title: 'prop_up'}"><i class="fa fa-arrow-up"></i></button>		<button type="button" data-bind="click: moveDown, disable: disable_down, i18n: {title: 'prop_down'}"><i class="fa fa-arrow-down"></i></button>		<span>			<span data-bind="i18n: 'cmd_export_as'"></span>			<select style="padding: 0;" data-bind="onewaySelect: {				options: $root.devExportOpts, 				optionsValue: 'lookup', 				optionsText: 'label', 				value: 'none',				action: $root.fn.devExport}"></select>		</span><!-- /ko -->	</div></div><!-- ko if: (mode.state() && data.activeItem() !== false) || !mode.state() --><!-- ko with: data.items()[data.activeItem()] --><!-- ko with: $data.settings --><div data-bind="template: {name: $root.settingTemplate, foreach: $root.searchActive() ? $root.searchFilter() : items(), }, 	event: {keyup: function(data, e) { if ($root.mode.state()) keyHandler(data, e); }}"></div><!-- /ko --><!-- /ko --><!-- /ko --><!-- TODO: Put CSS binding into viewmodel property (computed) --><script type="text/html" id="radio-input-tmpl">	<!-- ko foreach: options -->	<div class="ko-option">		<span data-bind="attr: {'for': $parent.lookup}, text: val"></span>		<input type="radio" data-bind="attr: {'name': ko.unwrap($parent.lookup) + '-output', 'disabled': $parent.isLocked, 'title': $parent.isLocked() ? $root.i18n['prop_is_locked'] : ''}, checked: $parent.value, checkedValue: index">	</div>	<!-- /ko --></script><script type="text/html" id="text-input-tmpl">	<!-- ko if: i18n() && $root.allLangs -->	<div data-bind="foreach: values" class="ko-lang-box">		<a href="#" data-bind="click: function() { $parent.activeLang($index()); }, style: {textDecoration: $index() === $parent.activeLang() ? 'underline' : 'none'}, text: $root.allLangs[$index()]" ></a>	</div>	<!-- /ko -->	<input type="text" data-bind="attr: {'name': ko.unwrap(lookup) + '-output', 'id': ko.unwrap(lookup) + '-output', 'disabled': isLocked, 'title': isLocked() ? $root.i18n['prop_is_locked'] : ''}, value: i18n() && $root.allLangs ? values()[activeLang()].val : value"></script><script type="text/html" id="switch-input-tmpl">	<button type="button" class="icon-button" data-bind="attr: {'disabled': isLocked, 'title': isLocked() ? $root.i18n['prop_is_locked'] : '',		'name': ko.unwrap(lookup) + '-output', 		'id': ko.unwrap(lookup) + '-output'}, click: toggle">	<i data-bind="attr: {'class': display}"></i></button></script><script type="text/html" id="checkbox-input-tmpl">	<input type="checkbox" 		name="{{ ko.unwrap(lookup) + '-output' }}" 		id="{{ ko.unwrap(lookup) + '-output' }}"		disabled="{{ isLocked }}" 		checked="{{ value }}" 		title="{{ isLocked() ? $root.i18n['prop_is_locked'] : ''}}"></script><script type="text/html" id="textarea-input-tmpl">	<!-- ko if: i18n() && $root.allLangs -->	<div data-bind="foreach: values" class="ko-lang-box">		<a href="#" data-bind="click: function() { $parent.activeLang($index()); }, style: {textDecoration: $index() === $parent.activeLang() ? 'underline' : 'none'}, text: $root.allLangs[$index()]" ></a>	</div>	<!-- /ko -->	<textarea data-bind="attr: {		'name': ko.unwrap(lookup) + '-output', 		'id': ko.unwrap(lookup) + '-output', 		'disabled': isLocked, 		'title': isLocked() ? $root.i18n['prop_is_locked'] : ''}, 		value: i18n() && $root.allLangs ? values()[activeLang()].val : value" rows="6"></textarea></script><script type="text/html" id="fancy-checkbox-input-tmpl">	<button type="button" class="icon-button" data-bind="attr: {'disabled': isLocked, 'title': isLocked() ? $root.i18n['prop_is_locked'] : '',				'name': ko.unwrap(lookup) + '-output',				'id': ko.unwrap(lookup) + '-output'}, click: toggle">	<i data-bind="attr: {'class': display}, 		style: 'float: right; ' + (value() && value().toString().length ? '': 'margin-right: 2.5px')" 		style="margin-right: 2px;"></i>	</button></script><script type="text/html" id="image-input-tmpl">	<img data-bind="attr: {src: value}, css: { hidden: !value().length}" style="max-width: 100%; max-height: 160px;">	<!-- ko if: value().length --><br><!-- /ko -->	<!--<button type="button" style="bottom: 5px; right: 185px; position: absolute; padding: 2px 4px;" class="button" data-bind="attr: {		'disabled': isLocked, 		'title': isLocked() ? $root.i18n['prop_is_locked'] : ''},		click: $root.imageBrowser.toggle">Browse files..</button>-->	<input type="text" style="margin-top: 2px;" data-bind="attr: {'name': ko.unwrap(lookup) + '-output', 'id': ko.unwrap(lookup) + '-output', 'disabled': isLocked, 'title': isLocked() ? $root.i18n['prop_is_locked'] : '', placeholder: 'No image set'}, value: value"></script><script type="text/html" id="fancy-radio-input-tmpl">	<!-- ko foreach: options -->	<div class="ko-option">		<span data-bind="attr: {'for': ko.unwrap($parent.lookup)}, text: val"></span>		<button type="button" class="icon-button" data-bind="click: function() { $parent.value($index());}, 			attr: {				'disabled': $parent.isLocked, 				'name': ko.unwrap($parent.lookup) + '-output', 				'title': $parent.isLocked() ? $root.i18n['prop_is_locked'] : ''}">		<i data-bind="attr: {'class': $parent.value() === $index() ? $parent.display() : 'fa fa-lg fa-' + ko.unwrap($parent.icon)[1]}"></i></button>	</div>	<!-- /ko --></script><script type="text/html" id="select-input-tmpl">	<select data-bind="attr: 		{'name': ko.unwrap($parent.lookup) + '-output',		'id': ko.unwrap($parent.lookup) + '-output', 'disabled': isLocked}, 		options: options ? options : [{val:'', index:0}], 		value: value, 		optionsValue: 'index', 		optionsText: 'val'"></select></script><script type="text/html" id="section-title-tmpl">	<h4 class="ko-section-title" data-bind="text: label"></h4></script><script type="text/html" id="color-input-tmpl">	<input type="text" data-bind="attr: {'name': ko.unwrap(lookup) + '-output', 'id': ko.unwrap(lookup) + '-output', 'disabled': isLocked, 'title': isLocked() ? $root.i18n['prop_is_locked'] : ''}, value: value" style="float: right; max-width: 100px;">	<div style="width: 24px; height: 19px; border: 1px solid #DDD; border-radius: 5px; float: right; margin-right: 5px;" data-bind="style: {backgroundColor: value}"></div></script><!--<div id="image-browser" data-bind="css: {hidden: !imageBrowser.active()}, with:imageBrowser" class="hidden">	<div data-bind="foreach: folderPath">			<a href="#">				<span data-bind="text: $parent.folderPath()[$index()]"></span>			</a><!-- ko if: $index() !== $parent.folderPath().length-1 --\> / <!-- /ko --\>	</div>	<ul data-bind="template: {name: 'image-item-tmpl', foreach: selFolder().children || []}"></ul>	<div id="image-browser-cmd">	<button type="button" class="button" data-bind="text: 'set', click: $data.set" id="image-set"></button>	<button type="button" class="button" data-bind="text: 'cancel', click: $data.cancel" id="image-cancel"></button>	</div></div> --><script type="text/html" id="image-item-tmpl">	<li data-bind="css: { 'image-browser-folder': $data.folder, 'image-browser-image': !$data.folder }" style="float: left;">		<!-- ko if: !$data.folder -->			<img data-bind="attr: {src: path, title: name}">			<span data-bind="text: size"></span>		<!-- /ko -->		<!-- ko if: $data.folder -->			<a data-bind="attr: { 'data-path': path}, click: function() { $parent.folderPath.push(folder);}">				<i class="fa fa-folder"></i>				<span data-bind="text: folder"></span>				<ul data-bind="template: {name: 'image-item-tmpl', foreach: children}, attr: {id: '#img-browser-' + folder}"></ul>			</a>		<!-- /ko -->	</li></script></div>